KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK
          LDA $8000,XSAVE2    =*-1           STA OLDCHAR           RTSOUTPUT =*           LDX POS1           STA $8000,XPOS2     =*-1          ; HI BYTE           RTSTURN'OFF =*           LDA OLDCHAR           JSR OUTPUT           RTSPOS1 #00     ; COPY RESULT           STA $FD           LDA #$90           STA $FE           LDY #$00         - LDA ($FD),Y           STA ($FB),Y           INY           CPY #$40           BNE -           RTSST'RESULT .BYTE 0NULL      .BYTE 0KKKKKKKK       .BYTE $79   ; POSITN LO BYTEVARX       .BYTE  01   ; X VARIABLEVARY       .BYTE  03   ; Y VARIABLEOLDCHAR    .BYTE  00   ; WHAT LIES BENEATHBTNUP      .BYTE  00   ; BUTTON LOCKDRAWCLR    .BYTE  11   ; COLOR TO DRAWOLD'KEY    .BYTE  00   ; KESTA ($FD),Y           DEY           LDA ($FB),Y ; LOAD COL1           ROL           STA ($FD),Y           INY           INY           INY           CPY #63           BNE -           JSR COPY'RESULT           RTSCOPY'RESULT =*           LDA KKKKKKKK !Y HELD DOWNNULL       .BYTE  00 - LDA ($FB),Y ; GET HI BIT           ROL           INY           INY           LDA ($FB),Y ; LOAD COL3           ROL           STA ($FD),Y           DEY           LDA ($FB),Y ; LOAD COL2           ROL           
 L $L) 2L @< NL` )J J $J 2J @J N` }` 	X   * ```````Q` Q``UMBER@         NTER OMMANDZ/       HIFT ERTICALLYX/       HIFT ORIZONTALLYF         LIP ERTICALLY         LIP ORIZONTALLYI         NVERT PRITEA         NIMATE PRITE,         LOWER OYSTICK PEED.         ASTER OYSTICK PE ACKGROUND OLOR +         ACKGROUND OLOR -HIT ANY KEY/                8     `$         ```; RESUME IRQREAD'KEYBD LDA $CB     ; READ KEYBOARD           CMP OLD'KEY           BEQ END'KEYBD           STA OLD'KEY           CMP #7           BNE SCAN'RL           LDA $028D           AND #1           BEQ +           JSR CUR'UP               BNE END'KEYBD           JSR DO'BTN           JMP JOY'DONEEND'KEYBD  RTSJOY'ON     LDA $DC00   ; READ JOYSTICK           AND #$1F           LSR         ; CHECK UP           BCS +           JSR CUR'UP         + LSR         ; CHECK DOWN         JSR DO'BTN           RTS         + JSR NO'BTN           RTSJOY'DONE   LDA OLDCHAR ; REPLACE OLD           JSR OUTPUT           LDA POS2    ; COLOR RAM           ORA #$58    ; OFFSET           STA POS2           LDA DRAWCLR           JSR OUTR'DOWN   INC VARY           LDX VARY           CPX #24     ; IS Y>24?           BCC +           DEC VARY         + RTSCUR'LEFT   DEC VARX           LDX VARX           CPX #1      ; IS X<1?           BCS +           INC VARX         + RTSCUR  + LDA OLDCHAR ; WHAT'S UNDER           CMP #160    ; THE CURSOR?           BEQ +           LDA #160    ; ERASE           STA OLDCHAR           STA BTNUP           LDA #11           STA DRAWCLR           RTS         + LDA #81     ; DRAW       A #11           STA DRAWCLR         + CMP #81     ; DOT           BEQ +           RTS         + LDA #15           STA DRAWCLR           RTSCALC'POS =*            ; CALCULATE LOC                       ; FROM X Y VALS           LDX #$80         BNE -           CLC         ; MOVE RIGHT           LDA POS1           ADC VARX           STA POS1           BCC +       ; NOT A PG BNDRY           INC POS2         + RTSSAVE'CHAR =*           LDX POS1           LDA POS2           STA SAVE2  i(m` ` ` `y   	 8 2 )`	 2   `PRITE ELP, PG1-----------------OVE THE CURSOR USING THE CURSORKEYS AND/OR OYSTICK IN PORT 2.ORK REA+         EXT PRITE-         REVIOUS PRITEL         OAD PRITES         AVE PRITE         OAD LL PRITES         AVE LL PRITES$         ISK IRECTORYHIT ANY KEYPRITE ELP, PG2-----------------N         EW EVICE EDM         OGGLE ULTICOLOR ODE1        OGGLE  EXPANSION2        OGGLE  EXPANSION3        PRITE OLOR +4        PRITE OLOR -5        ULTICOLOR 1 +6        ULTICOLOR 1 -7        ULTICOLOR 2 +8        ULTICOLOR 2 -B              JSR TURN'OFF           RTSCHECK'IRQ =*           JSR READ'KEYBD           LDA $DC0D   ; IRQ CONTROL REG           AND #$82    ; TIMER ?           CMP #$82           BNE +           JSR JOY'ON           JSR JOY'DONE         + JMP ($03FC) JMP SCAN'SP         + JSR CUR'DOWN           JMP SCAN'SPSCAN'RL    CMP #2           BNE SCAN'SP           LDA $028D           AND #1           BEQ +           JSR CUR'LEFT           JMP SCAN'SP         + JSR CUR'RIGHTSCAN'SP    CMP #60            BCS +           JSR CUR'DOWN         + LSR         ; CHECK LEFT           BCS +           JSR CUR'LEFT         + LSR         ; CHECK RIGHT           BCS +           JSR CUR'RIGHT         + LSR         ; CHECK BUTTON           BCS +        PUT           JSR CALC'POS           JSR SAVE'CHAR           LDA @"*"    ; PRINT NEW           JSR OUTPUT           RTSCUR'UP     DEC VARY           LDX VARY           CPX #3      ; IS Y<3?           BCS +           INC VARY         + RTSCU'RIGHT  INC VARX           LDX VARX           CPX #25     ; IS X>25?           BCC +           DEC VARX         + RTSDO'BTN     LDA BTNUP   ; HELD DOWN?           BEQ +       ; NO           LDA BTNUP           STA OLDCHAR           RTS           STA OLDCHAR           STA BTNUP           LDA #15           STA DRAWCLR           RTSNO'BTN     LDA #0      ; BUTTON IS UP           STA BTNUP           LDA OLDCHAR ; FIX THE COLOR           CMP #160    ; SPACE           BNE +           LD	   STX POS2           LDX #0           STX POS1                  LDX VARY    ; MOVE DOWN         - CLC           LDA POS1           ADC #40            STA POS1           BCC +       ; NOT A PG BNDRY           INC POS2         + DEX           HE PACE EY OR OYSTICK UTTON WILLSELECT THE AREA BENEATH THE CURSOR.EYBOARD EFERENCE------------------Q         UIT[DEL]     LEAR PRITE[INST]    LEAR LL PRITES[HOME]    ILL PRITEG         ENERATE PRITE[RETURN]  OPY PRITE TO 
53285:1050 bCH$(139)RG53285:1080 CH$(136)RG53286:1050 CH$(140)RG53286:1080  :  - TOGGLE BITS IN A REGISTER (RG)(2CS)RG,(RG)(2552CS): RG,(RG)(2CS): : 1 - INCREMENT A REGISTER F$"                                       ":198,0 d"NEW DEV NUMBER";DV$ n(DV$)8(DV$)16"-INVALID DEV NUMBER-":198,1:1430 xV21,0:A(DV$):15,A,15:15 ST0"-DEVICE NOT PRESENT-":198,1:1430 9DVA:15,DV,15,"I0:SR,SB:V,X:V1,Y:1110:1710:CSTMP: \: s" - DISK DIRECTORY ,V21,0:TMPCS:CS8:1670 6"":DI:"PRESS ANY KEY" @198,0:198,1:198,0 J2530:1110:1710:CSTMP: T: ^ - HELP SCREEN &hV21,0:TMPCS:CS8:1670:HE ?rTE AVAOF((SBCS)64) _HV(VA256):LVVAHV256 s251,LV:252,HV 780,F:FS: :  - SPRITE TRANSFORMATION VAOF((SBCS)64) &HV(VA256):LVVAHV256 0251,LV:252,HV : RG: D: N - LOAD ALL SPRITES YX"   : < - SAVE SINGLE z"                                       ":198,0:NA$"" "FILE NAME";NA$ (NA$)1(NA$)16"INVALID FILENAME":198,1:2040 V21,0  GOSUB2060:GOSUB2090  VA=OF+((SB+CS)*64)-88 1 HV=INT(VA/25V21,255:2530: 8: G - SETLFS mRA1:RXDV:RY0:JSR65466:2210: s : * - SETNAM 4RA(V12):RX(V13):RY(V14):JSR65469:2210: >: H - LOAD RRA0:RXLV:RYHV:JSR65493:2210: \:  f - SAVE / pRA251:RXLV:RYHV:       ":198,0:NA$"" I!"FILE NAME";NA$ !(NA$)1(NA$)16"INVALID FILENAME":198,1:2340 !V21,0 !1,DV,2,"0:"NA$",P,R" !VAOF((SBCS)64):#1,A$,B$ !	IVAVA63:#1,A$:I,(A$(0)): "	1:1280 "	 ER0   1710 ,"$VAVA512:2,((I));: <#	2:1280 R#	V21,255:2530: X#	: u#	 - FLASH WORKING SPRITE #	B(V39CS) #	A15:RGV39CS:1050: #	V39CS,B: #	: #	 - ADJUST JOYSTICK SPEED #	JD255JD255 #	JD51JD51 $ 
SL10SL10 $

SL%Z
15,DV,15,NA$:15 =%d
1280:V21,255 I%n
2530: O%x
: ^%
 - REBOOT i%
64738   L3LLLHLg L0LLLYL@LLLLLYLZy QLJ 8jLJ ii`y <   3` < ?  ? 3`  jjjj? 3`  ****? 3`  @` xyX  `xX ` )  l8)RG,(RG)115: L.: i8 - DECREMENT A REGISTER ~BRG,(RG)115: L: V - INIT SCREEN, SPRITES `"                          " jA121:"                          ": t"                          " .~V21,255: 4:55:D0:1750:1710: L: g - READ ERROR CHANNEL  15,DV,15:15,ER,A$:15 
 ER0   "                                       ":198,0 "-";A$;"-" (198,1:198,0 2  ER  63   	< F: ,P - CHANGE DEVICE NUMBER cZ":15:1270 OV21,255:2530: U: g - ANIMATION }TMPCS:CS8:1670 "" "PRESS ANY KEY" N0:X(V):Y(V1) 53269,1:V,120:V1,80 SR,SBN:NN1 N7N0 A1100:A *(198)01510 V1110:1710:CSTMP: E|: ] - GENERATE SPRITE VAOF((SBCS)64):HV(VA256):LVVAHV256:253,LV:254,HV BS: :  - REBUILD SCREEN VAOF((SBCS)64) HV(VA256):LVVAHV256:253,LV:254,HV:RS: : * - FILL SPRI                                    ":198,0:NA$"" pb"FILE NAME";NA$ l(NA$)1(NA$)16"INVALID FILENAME":198,1:1940 vV21,0:VASR8 HV(VA256):LVVAHV256 2060:2090:2120:2180:1280:ER01710 "V21,255:2530: (6):LV=VA-HV*256 M POKE251,LV:POKE252,HV l PRINT"HV="HV" LV="LV  HV=INT((VA+64)/256):LV=(VA+64)-HV*256  GOSUB2150:GOSUB2180:GOSUB1280 2,DV,2,"0:"NA$",P,W" VAOF((SBCS)64)2 IVAVA64:2,((I));: 2:1280 2JSR65496:2210: 5 r: B z - OPEN ] |RA1:JSR65472:2210: c ~: q  - CLOSE  RA1:JSR65475:2210:  :   - PERFORM KERNAL CALL  780,RA:781,RX:782,RY:(JSR):  :   - LOAD SINGLE SPRITE 2!"                                	V21,255:2530: 2".	: K"8	 - SAVE ALL SPRITES "B	"                                       ":198,0:NA$"" "L	"FILE NAME";NA$ "V	(NA$)1(NA$)16"INVALID FILENAME":198,1:2450 "`	V21,0 #j	2,DV,2,"0:"NA$",P,W" #t	VASR6 /#~	I2SL2 7$
56327,JD:56335,17: =$
: S$(
 - SHELL COMMAND $2
"                                       ":198,0:NA$"" $7
"COMMAND: @";:204,0 $<
A$:A$(13)2630 $?
A$;:NA$NA$A$ $A
(NA$)182620 %F
204,1:(NA$)12670 %P
V21,0 )	 *
LQ	Xii`      ?`<'  <'''? 3`  I@ 3`     ? 3`*n `  C - PROMPT `"";M$;" (Y/N)":198,0 198,1:AN$((631)):198,0: :  - CLEAR SPRITE F0:D0:1750:1710: :  - CLEAR ALL SPRITES F0:TMPCS CS701:1750: CSTMP:1710: : * - FILL SPRITE FF2
AHV256 2060:2090:2120:2180:1280:ER01710 "V21,255:2530: (: < - SAVE SINGLE z"                                       ":198,0:NA$"" "FILE NAME";NA$ (NA$)1(NA$)16"INVALID FILENAME":198,1:2040 VSR):  :   - LOAD SINGLE SPRITE 2!"                                       ":198,0:NA$"" I!"FILE NAME";NA$ !(NA$)1(NA$)16"INVALID FILENAME":198,1:2340 !V21,0 !1,DV,2,"0:"NA$",P,R" !VAOF((SBCS)64):#1,A$,AME":198,1:2450 "`	V21,0 #j	2,DV,2,"0:"NA$",P,W" #t	VASR6 /#~	IVAVA512:2,((I));: <#	2:1280 R#	V21,255:2530: X#	: u#	 - FLASH WORKING SPRITE #	B(V39CS) #	A15:RGV39CS:1050: #	V39CS,B: #	: #	 - ADJU $?
A$;:NA$NA$A$ $A
(NA$)182620 %F
204,1:(NA$)12670 %P
V21,0 )%Z
15,DV,15,NA$:15 =%d
1280:V21,255 I%n
2530: O%x
: ^%
 - REBOOT i%
64738    "":55,0:56,128: }  - ENABLE VIC BANK 2  56576,(56576)253   - NO OFFSET FOR TEXT SCREEN  53272,4   - TELL BASIC WHERE SCREEN IS  648,128 	  - DISABLE STOP/RESTORE 	 808,234 $	 : ;	  - INIT VARIABLES n	 NA$"*******LD SPRITE q
"RS49155:  -BUILD SCREEN 
,FS49158:  -FILL SPRITE 
6JO49161:  -JOYSTICK ON 
@JF49164:  -JOYSTICK OFF 
JDI49167:  -DISK DIRECTORY THE49173:  -DISPLAY HELP $^SF49176:  -FLIP SPRITE ChSM49179:  -MIRROR SPRITE brREEN, SPRITES i53280,0:53281,0 DV(186):DV8DV8 V16,240:V23,255:V29,255 A062:VA,240:VA1,68A23: SRA2,SBA2:A A8142:VA,40:VA1,68(A8)23: SRA2,SBA2:A : 3 - INTRO SCREEN T""14)"P&56333,131 V0: h: - MAIN LOOP yD(198)650 N"PRESS 'H' FOR HELP         MOB";CS1; X(53276)(2CS)" MULTI":620 b" HIRES" l(SP$,SL)"    " v570 :  - KEYBOARD ENTRY .CH$((631)):198,0 eCH$(20)M$"L"JF:2240:JO kCH$"S"JF:1960:JO CH$""JF:1870:JO CH$""JF:2360:JO CH$"A"JF:1450:JO CH$"N"1360 CH$"F"RGSF:1810 CH$""RGSM:1810  CH$"I"RGSI:1810 3"CH$"Z"RGSV:1810 L$CH$ CH$"+"CSCS17:2480 npCH$"M"RGV28:1010 zCH$"B"RG53281:1050 CH$""RG53281:1080 CH$(133)RGV29:1010 CH$(137)RGV23:1010 CH$(134)RGV39CS:1050 $CH$(138)RGV39CS:1080 CCH$(135)RG21,0  GOSUB2060:GOSUB2090  VA=OF+((SB+CS)*64)-88 1 HV=INT(VA/256):LV=VA-HV*256 M POKE251,LV:POKE252,HV l PRINT"HV="HV" LV="LV  HV=INT((VA+64)/256):LV=(VA+64)-HV*256  GOSUB2150:GOSUB2180:GOSUB1280 2,DV,2,"0:"NA$RA0:RXLV:RYHV:JSR65493:2210: \:  f - SAVE / pRA251:RXLV:RYHV:JSR65496:2210: 5 r: B z - OPEN ] |RA1:JSR65472:2210: c ~: q  - CLOSE  RA1:JSR65475:2210:  :   - PERFORM KERNAL CALL  780,RA:781,RX:782,RY:(JB$ !	IVAVA63:#1,A$:I,(A$(0)): "	1:1280 "	 ER0   1710 ,"$	V21,255:2530: 2".	: K"8	 - SAVE ALL SPRITES "B	"                                       ":198,0:NA$"" "L	"FILE NAME";NA$ "V	(NA$)1(NA$)16"INVALID FILENST JOYSTICK SPEED #	JD255JD255 #	JD51JD51 $ 
SL10SL10 $

SL2SL2 7$
56327,JD:56335,17: =$
: S$(
 - SHELL COMMAND $2
"                                       ":198,0:NA$"" $7
"COMMAND: @";:204,0 $<
A$:A$(13)2630 
 2061   x z{+,l%-./012HQ 'w. ?BL  ;  w  X`: JSPRITE.BAS"JSPRITE.ML"
  JSPRITE - 2019 FUZZYBAD %d : Jn  - LOWER TOP OF MEMORY TO $8000 cx***********":SP$"":SL4 	 OF32768:SR33784:SB16:V53248 	 V1((45)256(46)) 	 RA0:RX0:RY0:JSR0:RG0 
 X1:Y3:N0:D0:SO160:CO11:C14:CS0:VA0:LV0:HV0:A0:B0:JD204:TMP0 
: 5
 - ML SUBROUTINES S
BS49152:  -BUISI49182:  -INVERT SPRITE tSV49185:  -SHIFT VERTICALLY vSH49188:  -SHIFT HORIZONTALLY xSU49191:  -SHIFT VERTICALLY2 zSO49194:  -SHIFT HORIZONTALLY2 |DS49197:  -BSAVE TO DISK 0~DL49200:  -BLOAD FROM DISK 6: S - INIT SCJSPRITE 2.4" n13)"" 12)"DRIVE";DV;"DEFAULT" 11)"2019 FUZZYBAD " (49152)7657812"JSPRITE.ML",DV,1:780,0:65493 A1500:A: PAUSE &198,0:1110:2530:JO A - ENABLE TIMER B IRQ "ARE YOU SURE?":1180:AN$"Y"1210 CH$(148)M$"ARE YOU SURE?":1180:AN$"Y"1230 CH$(19)M$"ARE YOU SURE?":1180:AN$"Y"1240 CH$"Q"M$"REALLY QUIT?":1180:AN$"Y"2690 "CH$"$"JF:1570:JO 5CH$"@"2600 PCH$	"X"RGSH:1810 e&CH$""RGSU:1810 ~(CH$""RGSO:1810 *CH$"G"JF:1670:JO 4CH$(13)JF:1710:JO >CH$"H"JF:1630:JO HCH$","JDJD51:SLSL2:2530 RCH$"."JDJD51:SLSL2:2530 6\CH$"-"CSCS17:2480 Sf",P,W" VAOF((SBCS)64)2 IVAVA64:2,((I));: 2:1280 2V21,255:2530: 8: G - SETLFS mRA1:RXDV:RY0:JSR65466:2210: s : * - SETNAM 4RA(V12):RX(V13):RY(V14):JSR65469:2210: >: H - LOAD R

  JSPRITE - 2019 FUZZYBAD %d : Jn  - LOWER TOP OF MEMORY TO $8000 cx "":55,0:56,128: }  - ENABLE VIC BANK 2  56576,(56576)253   - NO OFFSET FOR TEXT SCREEN  53272,4   - TELL BASIC WHERE SCREEN IS  648,128 	  - D49197:  -BSAVE TO DISK 0~DL49200:  -BLOAD FROM DISK 6: S - INIT SCREEN, SPRITES i53280,0:53281,0 DV(186):DV8DV8 V16,240:V23,255:V29,255 A062:VA,240:VA1,68A23: SRA2,SBA2:A A8142:VA,40:VA1500:A: PAUSE &198,0:1110:2530:JO A - ENABLE TIMER B IRQ P&56333,131 V0: h: - MAIN LOOP yD(198)650 N"PRESS 'H' FOR HELP         MOB";CS1; X(53276)(2CS)" MULTI":620 b" HIRES" l(SP$,SL)"    " T?":1180:AN$"Y"2690 "CH$"$"JF:1570:JO 5CH$"@"2600 PCH$"L"JF:2240:JO kCH$"S"JF:1960:JO CH$""JF:1870:JO CH$""JF:2360:JO CH$"A"JF:1450:JO CH$"N"1360 CH$"F"RGSF:1810 L2:2530 RCH$"."JDJD51:SLSL2:2530 6\CH$"-"CSCS17:2480 SfCH$"+"CSCS17:2480 npCH$"M"RGV28:1010 zCH$"B"RG53281:1050 CH$""RG53281:1080 CH$(133)RGV29:1010 CH$(137)RGV23:1010 CHG)(2552CS): RG,(RG)(2CS): : 1 - INCREMENT A REGISTER F$RG,(RG)115: L.: i8 - DECREMENT A REGISTER ~BRG,(RG)115: L: V - INIT SCREEN, SPRITES `"                          " jA121:"             CS CS701:1750: CSTMP:1710: : * - FILL SPRITE FF255:D0:1750:1710: L: g - READ ERROR CHANNEL  15,DV,15:15,ER,A$:15 
 ER0   "                                       ":198,0 "-";A$;"-" (15 ST0"-DEVICE NOT PRESENT-":198,1:1430 9DVA:15,DV,15,"I0:":15:1270 OV21,255:2530: U: g - ANIMATION }TMPCS:CS8:1670 "" "PRESS ANY KEY" N0:X(V):Y(V1) 53269,1:V,121710:CSTMP: T: ^ - HELP SCREEN &hV21,0:TMPCS:CS8:1670:HE ?r1110:1710:CSTMP: E|: ] - GENERATE SPRITE VAOF((SBCS)64):HV(VA256):LVVAHV256:253,LV:254,HV BS: :  - REBUILD SCREEN VAOF((SBCS)6 V256 0251,LV:252,HV : RG: D: N - LOAD ALL SPRITES YX"                                       ":198,0:NA$"" pb"FILE NAME";NA$ l(NA$)1(NA$)16"INVALID FILENAME":198,1:1940 vV21,0:VASR8 HV(VA256):LVVISABLE STOP/RESTORE 	 808,234 $	 : ;	  - INIT VARIABLES n	 NA$"******************":SP$"":SL4 	 OF32768:SR33784:SB16:V53248 	 V1((45)256(46)) 	 RA0:RX0:RY0:JSR0:RG0 
 X1:Y3:N0:D0:SO160:CO11:C14:CS0:VA0:LV-DISPLAY HELP $^SF49176:  -FLIP SPRITE ChSM49179:  -MIRROR SPRITE brSI49182:  -INVERT SPRITE tSV49185:  -SHIFT VERTICALLY vSH49188:  -SHIFT HORIZONTALLY xSU49191:  -SHIFT VERTICALLY2 zSO49194:  -SHIFT HORIZONTALLY2 |DSA1,68(A8)23: SRA2,SBA2:A : 3 - INTRO SCREEN T""14)"JSPRITE 2.4" n13)"" 12)"DRIVE";DV;"DEFAULT" 11)"2019 FUZZYBAD " (49152)7657812"JSPRITE.ML",DV,1:780,0:65493 v570 :  - KEYBOARD ENTRY .CH$((631)):198,0 eCH$(20)M$"ARE YOU SURE?":1180:AN$"Y"1210 CH$(148)M$"ARE YOU SURE?":1180:AN$"Y"1230 CH$(19)M$"ARE YOU SURE?":1180:AN$"Y"1240 CH$"Q"M$"REALLY QUICH$""RGSM:1810  CH$"I"RGSI:1810 3"CH$"Z"RGSV:1810 L$CH$"X"RGSH:1810 e&CH$""RGSU:1810 ~(CH$""RGSO:1810 *CH$"G"JF:1670:JO 4CH$(13)JF:1710:JO >CH$"H"JF:1630:JO HCH$","JDJD51:SLS$(134)RGV39CS:1050 $CH$(138)RGV39CS:1080 CCH$(135)RG53285:1050 bCH$(139)RG53285:1080 CH$(136)RG53286:1050 CH$(140)RG53286:1080  :  - TOGGLE BITS IN A REGISTER (RG)(2CS)RG,(R             ": t"                          " .~V21,255: 4: C - PROMPT `"";M$;" (Y/N)":198,0 198,1:AN$((631)):198,0: :  - CLEAR SPRITE F0:D0:1750:1710: :  - CLEAR ALL SPRITES F0:TMP198,1:198,0 2  ER  63   	< F: ,P - CHANGE DEVICE NUMBER cZ"                                       ":198,0 d"NEW DEV NUMBER";DV$ n(DV$)8(DV$)16"-INVALID DEV NUMBER-":198,1:1430 xV21,0:A(DV$):15,A,15:0:V1,80 SR,SBN:NN1 N7N0 A1100:A *(198)01510 VSR,SB:V,X:V1,Y:1110:1710:CSTMP: \: s" - DISK DIRECTORY ,V21,0:TMPCS:CS8:1670 6"":DI:"PRESS ANY KEY" @198,0:198,1:198,0 J2530:1110:	4) HV(VA256):LVVAHV256:253,LV:254,HV:RS: : * - FILL SPRITE AVAOF((SBCS)64) _HV(VA256):LVVAHV256 s251,LV:252,HV 780,F:FS: :  - SPRITE TRANSFORMATION VAOF((SBCS)64) &HV(VA256):LVVAH0:HV0:A0:B0:JD204:TMP0 
: 5
 - ML SUBROUTINES S
BS49152:  -BUILD SPRITE q
"RS49155:  -BUILD SCREEN 
,FS49158:  -FILL SPRITE 
6JO49161:  -JOYSTICK ON 
@JF49164:  -JOYSTICK OFF 
JDI49167:  -DISK DIRECTORY THE49173:  
; ILESYSTEM UNCTIONS; (C) 2018 JESSICA PETEREN; READ DISK DIRECTORY; = ACKING SSUE 3READ'DIR =*            ; BEGIN BY OPENING UP THE           ; DIRECTORY FILE "$"           LDA #01     ; FILENAME LENGTH           LDX #<DIR   ; LO BYTE PTR  BEQ +              JSR CHROUT  ; PRINT CHAR           SEC           BCS -                + LDA #CHARRET; PRINT CR           JSR CHROUT           JSR CHRIN   ; GET NEXT PTR           BNE --      ; IF NOT 0 THEN                       ; STRIP OTHENNELS           RTS         ; END ROUTINEDIR        .ASC "$"    ; THE FILENAMEREAD'ERR =* ; THIS ROUTINE GRABS BYTES            ; FROM CH 15 UNTIL A CRRDERR      LDA #00           JSR SETNAM           LDA #$F     ; FILE           LDX $BA     ; D F           JSR CLOSE           JSR CLRCHN           RTS; SE CHROUT TO SAVE DATA; SSUME THAT $FB,$FC HAVE START ADDR;B'SAVE =*    RTS; ALL KERNAL LOAD ROUTINE; SSUME THAT $FB,$FC HAVE TARGET ADDRB'LOAD =*    RTSFC HAVE TARGET ADDRBSTART,XHELP'VAR =*-1      CMP #3         ; 03 = END OF FILE      BNE +               JSR HIT'KEY      LDA #147       ; CLEAR THE SCREEN      JSR CHROUT      LDA VMCTR      AND #%11110101 ; UPPERCASE      STA VMCTR      LDA $FD      STA HELP'VAIT'KEY  =*    - JSR GETIN      BEQ -      RTSTEXT'START =*.ASC 147,"PRITE ELP, PG1",13.ASC "-----------------",13.ASC "OVE THE CURSOR USING THE CURSOR",13.ASC "KEYS AND/OR OYSTICK IN PORT 2.",13,13.ASC "HE PACE EY OR OYSTICK UTTON WI    ENERATE PRITE",13.ASC "[RETURN]  OPY PRITE TO ORK REA",13.ASC "+         EXT PRITE",13.ASC "-         REVIOUS PRITE",13.ASC "L         OAD PRITE",13.ASC "S         AVE PRITE",13.ASC "         OAD LL PRITES",13.ASC "         13.ASC "X/       HIFT ORIZONTALLY",13.ASC "F         LIP ERTICALLY",13.ASC "         LIP ORIZONTALLY",13.ASC "I         NVERT PRITE",13.ASC "A         NIMATE PRITE",13.ASC ",         LOWER OYSTICK PEED",13.ASC ".         ASTER OYS    ULTICOLOR 1 -",13.ASC "7        ULTICOLOR 2 +",13.ASC "8        ULTICOLOR 2 -",13.ASC "B         ACKGROUND OLOR +",13.ASC "         ACKGROUND OLOR -",13.ASC 13,18,"HIT ANY KEY",146,3TEXT'END   = *-TEXT'STARTC ",         LOWER OYST>CHECK'IRQ           STA $0315           CLI           JSR CALC'POS           JSR SAVE'CHAR           RTSIRQ'OFF    SEI         ; RESTORE IRQ           LDA $03FC           STA $0314           LDA $03FD           STA $0315           CLI                 LDY #>DIR   ; HI BYTE PRT           JSR SETNAM           LDA #01     ; FILE NUM           LDX $BA     ; DEVICE NUM           LDY #00     ; CHANNEL           JSR SETLFS           JSR OPEN                      ; READ IN THE BYTES AND DIRIN   ; GET LINE # HI           LDX TEMP           JSR $BDCD   ; PRINT LINE #           LDA #SPACE           JSR CHROUT         - JSR CHRIN   ; START PRINTING                       ; FILENAME UNTIL                       ; END OF LINE (0)         R PTR                       ; AND CONTINUE           JSR CHRIN   ; CHECK 2ND BYTE           BNE LINE    ; IF BOTH = 0 ITS                       ; THE END OF DIR           LDA #01           JSR CLOSE   ; CLOSE FILE           JSR CLRCHN  ; CLEAR CHAEVICE           LDY #$F     ; CHANNEL           JSR SETLFS           JSR OPEN           LDX #$F           JSR CHKIN   ; DEFINE INPUT         - JSR CHRIN             JSR CHROUT           CMP #CHARRET; IS IT A CR?           BNE -           LDA #$; JSPRITE HELP TEXT; (C) 2018 JESSICA PETERSENHELP'SCRN =*     ; THIS ROUTINE DISPLAYS                 ; THE HELP TEXT      LDA HELP'VAR           STA $FD      LDA VMCTR      ORA #%00000010 ; LOWERCASE      STA VMCTR      LDX #0    - LDA TEXT'R      RTS            ; EXIT    + CMP #11        ; 11 = END OF PAGE      BNE +      STX $02      JSR HIT'KEY      LDX $02      LDA #147       ; CLEAR THE SCREEN    + JSR CHROUT      INX      BNE -      INC HELP'VAR      LDA #0      BEQ -HLL",13.ASC "SELECT THE AREA BENEATH THE CURSOR.",13,13.ASC "EYBOARD EFERENCE",13.ASC "------------------",13.ASC "Q         UIT",13.ASC "[DEL]     LEAR PRITE",13.ASC "[INST]    LEAR LL PRITES",13.ASC "[HOME]    ILL PRITE",13.ASC "G     AVE LL PRITES",13.ASC "$         ISK IRECTORY",13.ASC 13,18,"HIT ANY KEY",146,11.ASC "PRITE ELP, PG2",13.ASC "-----------------",13.ASC "N         EW EVICE UMBER",13.ASC "@         NTER OMMAND",13.ASC "Z/       HIFT ERTICALLY",TICK PEED",13.ASC "M         OGGLE ULTICOLOR ODE",13.ASC "1        OGGLE  EXPANSION",13.ASC "2        OGGLE  EXPANSION",13.ASC "3        PRITE OLOR +",13.ASC "4        PRITE OLOR -",13.ASC "5        ULTICOLOR 1 +",13.ASC "6     	; IRQ DRIVEN JOYSTICK ROUTINE; (C) 2018 JESSICA PETERSENIRQ'ON     LDA $0314   ; COPY IRQ           STA $03FC           LDA $0315           STA $03FD           SEI         ; DIVERT IRQ           LDA <CHECK'IRQ           STA $0314           LDA SPLAY           LDX #1           JSR CHKIN   ; SET INPUT           JSR CHRIN   ; SKIP LD ADDR           JSR CHRINSKIP       JSR CHRIN   ; SKIP LINE LNK         - JSR CHRINLINE       JSR CHRIN   ; GET LINE # LO           STA TEMP           JSR CHA                                     2A                                                                                      JSPRITE.ML2         
                   JSPRITE.BAS             JSPRITE.ML         
                 JSPRITE24.LINK         (                 JSPRITE24.PACK          KK                JSPRITEML.ASM            SBUILD.ASM            STRANS.ASM            JOYSTICK.ASM            HELPTEXT.ASM         
    FILESYS.ASM         	   READDIR.ASM         	 KKKKKKKKKKKKKK
; JSPRITE ASM CODE; (C) 2018 JESSICA PETERSEN .ORG $C000 .MEM .DVO 8 .OBJ "@:JSPRITE.ML" READST  = $FFB7 SETLFS  = $FFBA SETNAM  = $FFBD OPEN    = $FFC0 CLOSE   = $FFC3 CHKIN   = $FFC6 CHKOUT  = $FFC9 CLRCHN  = $FFCC CHRIN   = $FFCF CHRO '           JSR CLRCHN           RTS KEY HELD DOWNNULL       .BYTE  00    ; FALLS THRU JMP READ'ERR          ; TO READ'ERR JMP HELP'SCRN JMP FLIP'SPRITE JMP MIRR'SPRITE JMP INV'SPRITE JMP VSHIFT'SPRITE JMP HSHIFT'SPRITE JMP VSHIFT'SPRITE2 JMP HSHIFT'SPRITE2 JMP B'SAVE JMP B'LOAD.SEQ "SBUILD.ASM".SEQ "STRANS.A ; HI BYTE PRT           JSR SETNAM           LDA #01     ; FILE NUM           LDX $BA     ; DEVICE NUM           LDY #00     ; CHANNEL           JSR SETLFS           JSR OPEN                      ; READ IN THE BYTES AND DISPLAY           LDX #1   INC $FC         + DEC ROW'NUM ; END OF SPRITE?           BNE READ'ROW           RTS; SCREEN BUILDING CODE BLD'SCREEN =*          ; INITIALIZE           LDA #$79           STA $FB     ; WORK AREA           LDA #$80           STA $FC     ; W          LDX TEMP           JSR $BDCD   ; PRINT LINE #           LDA #SPACE           JSR CHROUT         - JSR CHRIN   ; START PRINTING                       ; FILENAME UNTIL                       ; END OF LINE (0)           BEQ +              J#3           STA BYTE'NUMREAD'BYTE  LDY #0           STY THE'TOTAL         - LDA ($FB),Y ; CHECK           CMP #$51           BEQ MATCH           CPY #$7           BEQ +           INY           JMP -MATCH      TYA         ; WHICH BIT              ; AND CONTINUE           JSR CHRIN   ; CHECK 2ND BYTE           BNE LINE    ; IF BOTH = 0 ITS                       ; THE END OF DIR           LDA #01           JSR CLOSE   ; CLOSE FILE           JSR CLRCHN  ; CLEAR CHANNELS           RTS     + LDY #0      ; STORE BYTE           LDA THE'TOTAL           STA ($FD),Y           INC $FD           BNE +       ; NOT PG BNDRY           INC $FE         + CLC           LDA $FB     ; MV TO NEXT BYTE           ADC #8            STA $FB     F     ; CHANNEL           JSR SETLFS           JSR OPEN           LDX #$F           JSR CHKIN   ; DEFINE INPUT         - JSR CHRIN             JSR CHROUT           CMP #CHARRET; IS IT A CR?           BNE -           LDA #$F           JSR CLOSEUT  = $FFD2 LOAD    = $FFD5 SAVE    = $FFD8 GETIN   = $FFE4 VMCTR   = $D018 TEMP    = $FD CHARRET = $0D SPACE   = $20START    =*            ; JUMP TABLE JMP GEN'SPRITE JMP BLD'SCREEN JMP FIL'SPRITE JMP IRQ'ON JMP IRQ'OFF JSR READ'DIR      ; READ DISK DIRECTORY; = ACKING SSUE 3; LAST MODIFIED 10/6/2002READ'DIR =*            ; BEGIN BY OPENING UP THE           ; DIRECTORY FILE "$"           LDA #01     ; FILENAME LENGTH           LDX #<DIR   ; LO BYTE PTR           LDY #>DIR   @SM".SEQ "JOYSTICK.ASM".SEQ "HELPTEXT.ASM".SEQ "FILESYS.ASM"BD LDA $CB     ; READ KEYBOARD           CMP OLD'KEY           BEQ END'KEYBD           STA OLD'KEY           CMP #7           BNE SCAN'RL           LDA $028D           AND #1                    JSR CHKIN   ; SET INPUT           JSR CHRIN   ; SKIP LD ADDR           JSR CHRINSKIP       JSR CHRIN   ; SKIP LINE LNK         - JSR CHRINLINE       JSR CHRIN   ; GET LINE # LO           STA TEMP           JSR CHRIN   ; GET LINE # HI ; SPRITE BUILDING CODE; (C) 2018 JESSICA PETERSENGEN'SPRITE =*         ; INITIALIZE           LDA #$79           STA $FB    ; WORK AREA           LDA #$80           STA $FC    ; WORK AREA           LDA #21           STA ROW'NUMREAD'ROW   LDA SR CHROUT  ; PRINT CHAR           SEC           BCS -                + LDA #CHARRET; PRINT CR           JSR CHROUT           JSR CHRIN   ; GET NEXT PTR           BNE --      ; IF NOT 0 THEN                       ; STRIP OTHER PTR                    TAX           LDA #$00           SEC           INX         - ROR           DEX           BNE -           ORA THE'TOTAL   ; ADD TO           STA THE'TOTAL   ; THE TOTAL           CPY #7           BEQ +           INY           JMP --       	      ; END ROUTINEDIR        .ASC "$"    ; THE FILENAMEREAD'ERR =* ; THIS ROUTINE GRABS BYTES            ; FROM CH 15 UNTIL A CRRDERR      LDA #00           JSR SETNAM           LDA #$F     ; FILE           LDX $BA     ; DEVICE           LDY #$      BCC +       ; NOT PG BNDRY           INC $FC         + DEC BYTE'NUM; END OF ROW?           BNE READ'BYTE           CLC           LDA $FB     ; MV TO NEXT ROW           ADC #16           STA $FB           BCC +       ; NOT PG BNDRY        
 L3LLLHLg L0LLLYL@LLLLLYLZy QLJ 8jLJ ii`y *
LQ	Xi Q"`RE QUIT42690 "X$"JFa"57!5(@a^2600 PLN224Qk(S96+('8(3^]45++Na/ F"RGSo$'M$ $I'I$3"$Z'V$L$$X'H$e&$'U$~($'O$*$G@614A3),71/>bHP83H(,j? 3`  ****? 3`  @` xyX  `xX ` )  l8) L $L) 2L @< NL` )J J $J 2J @J N` }`eeL { 	

BIee`L 
 2061   x z{a+,l%-./012HQ 'w. ?BL  ;   8 2 )`	 2   `PRITE ELP, PG1-----------------OVE THE CURSOR USING THE CURSORKEYS AND/OR OYSTICK IN PORT 2.HE PACE EY OR OYSTICK UTTON WILLSELECT THE AREA BENEATH THE CURSOR.EYBOARD 648 	VDISaa$a/REaRE 	 808,234 $	a;	VINIT VARI2S n	 NA$"k*":SPaaL4 	 OFa68:SR33784:SB16:Va48 	 V1((45)256a6)) 	 RA0:RXYaJSRG0 
 X1:Y3:NaDaSOaV0:Ca1:C14:CSaVALVaH
BID204:TMPaL
: 5
   AVE PRITE         OAD LL PRITES         AVE LL PRITES$         ISK IRECTORYHIT ANY KEYPRITE ELP, PG2-----------------N         EW EVICE UMBER@         NTER OMMANDZ/       HIFT ERTICALLYX/       HIFT ORIZONTALRIZONT>xSU 91k F2 zSO<4G?|DS@7!SAVE0 0~DLa2003LOAD FROM76: S3C,0S i80,0:1,0 DV(186):DV8a8 V16,240:a23,255
9 A062A&1,68A23: SRA2,SB:A 4814c8(A8)k <a3ANSION3        PRITE OLOR +4        PRITE OLOR -5        ULTICOLOR 1 +6        ULTICOLOR 1 -7        ULTICOLOR 2 +8        ULTICOLOR 2 -B         ACKGROUND OLOR +         ACKGROUND OLOR -HIT ANY KEY/     aa\)650 N"PRESS 'H'k MOB";CS1; X;532$(2CS)" Mo4I":620 baHIaO" l(SP$,SL)"L" v570 aKEYBOARD EoY .CH$((631)):! e)20)M$"ARE YOU SURE?":80:ANaY"1210 _148k, 830 bo6k, 740 3ai`      ?`<'  <'''? 3`  I@ 3`     ? 3`*n ` <   3` < ?  ? 3`  jjj
 2061   x z{w/-./012X z  7:d d	 L  wX` aAo26__Rk8L, J 	, e6 0b
r )	 )JJJJi8 	X   * ```````Q` Q`` i(m` ` ` `y   	w  X`: JSPRITE.BAS"	ML"a  - 2019 FUZZYBAD %d : Jn aLOWER TOP OF MEMORYa $8000 cx "":55,0a6,128: }rENABLE VIC BANK 2  a%576,()253 ZNOafFSET FOauEXT SCREEN a73272,4 +aLL aa^WHEREL IS  EFERENCE------------------Q         UIT[DEL]     LEAR PRITE[INST]    LEAR LL PRITES[HOME]    ILL PRITEG         ENERATE PRITE[RETURN]  OPY PRITE TO ORK REA+         EXT PRITE-         REVIOUS PRITEL         OAD PRITES      ML SUBROUTINaS
BS49152: aBUILD "D q
"R15`A
,F182FILLg
6JO610JOYSTICK ON 
@JF04% 
JDI272oKoRECoY THE731PLAY HELP $^SF26 LIP@ChSM090MIRROR/brS8!INVERT/tSV4!SHIFT a aALLY vSH:8p"HOLYF         LIP ERTICALLY         LIP ORIZONTALLYI         NVERT PRITEA         NIMATE PRITE,         LOWER OYSTICK PEED.         ASTER OYSTICK PEEDM         OGGLE ULTICOLOR ODE1        OGGLE  EXPANSION2        OGGLE  EXP	0TROBT14)"kE@2.4" n13)"k" 2a5DRIVE";DV;"DEFAULT" 1)"kuo" ()7657812,DV,1:765493 o1500a: PAUSE &198a'111a253a3JO AuTIMER B IRQ P&56333,131 V0: h:8AIN LOOP yD p           8     `$         ```
"JDJD51~SL2# R:.:996\:-"CSCS17a480 Sf,+,`np,MV28a0az(B,50 *aPa3)`72F.`4.39CS$`!8!C`!5)@5rb`9`n`6P6nT0`ro : OGGLE BITS	ORK AREA           LDA #21           STA ROW'NUMREAD'ROW2  LDA #3           STA BYTE'NUMREAD'BYTE2 LDY #0      ; REBUILD           LDA ($FD),Y ; SCREEN           CLC         - ROL         ; FILL 8           TAX         ; BYTES           BCS aQCLEAZZF+501a2p5ALLQ66CS CS701oaa"PYaV*FaPo a3g2oAD E#CHANNEL  15oaER,A$:15 
a-0   oLk Qi-";Ao-" (!}=2aiak  63	< F: ,PaLLYLZy QLJ 8ja i`k k*
LQ	Xk nn`k  ?`<'am <'a a a 3` a#I@'a  (V):Y1) o69a20:Y,80 SRN:NN1 N7aI ?100*:01510 V{YXY+C	#Lo\: s",A6_GDI:"@4=Jk Ta^iL&hk HHE ?rk UE|aR]GENERATED3VAOF((owCS)` 	X
 *a``aaaaaUaa
`QaoGaF6Q`- xi(m`  y   	 8 2 a)a`	a2  (a)1DD/.940 v"_SR8 k 2060:a91280x "(o#<&_.SINGLE zk@!k!k9!20o_paGOSUB
 aVA=OF+M+CS)*64)-88 1aHV=INToP/1S=VA-HV*SMaPOKE2Y2\lRa:"aE"HUS%LPOADSPAVP,1$P_I_BIHIT_R&2&NpW _$
_[@PNTER 'Z/@k
 Uk xX/k p0F(LIP76IPNVERQAPNIMq,a>LOWEr	.`mAST MP _)\ULaOLOR ODE1! EXPANSION23*Bn7 fB / p6ok <`5 ra9B znOPEN ] |M72P.c ~a+q *OSE  /5P/ a, ^ER KERNAL _  ;RA_1,RX2,RY:(aO aD Q#V2!k?I!!k9340 !C!1R" !P#1,A$,B$ !	b3fI,(aD(0)): "	12 +           LDA #11     ; SPACE           STA COLR'SAVE           LDA #160           JMP ++         + LDA #15     ; DOT           STA COLR'SAVE           LDA #81         + STA ($FB),Y ; DRAW CHAR           LDA $FC           STA POS'SAVE        IN A REGISTER (RGU$RG,55 : P(: 1&CREMENTcF$`:o15a5L.a5i8XE8~B`8bLa5VkN`"k " j21:" k  ": taTk! T" .~1,254aCPROMPT `aH";M$;" (Y/N)"21:ANRaQ22 7$
_27,JD:_5,17a=$
: S$(
H_zCOMMAND $2
jk<	$7;: @";:204o$<
A$:A_C2630 $?
A$;zA$ $A
R882_!%F
1:P2u%P
B*)%Z
lN>=%d
(3H_I%n
AO%xo^%
:OOT i%
64738   L3LLLHLg L0LLLYL@LLLGE DEVICE NUMBER cZk9 daNEWM	$ n(a)816IALIDp6a:01430 x"w:jAof_ST0@OT 	}ENTV9DVA:1a"I0:"aN270 OS4	UoCgFANIMATION }"8aAoNk" a"aIY	oXP	a4K2*n z`YS< a<?P a
aqjaaI*aaa&+` xyX  `xa ` )  l8) L $2$@<a?NL` )Ja0$2@a Nav}64)_ v(VA256)_ VAHVa:a,LV4,HV BSafaf$b_Th k. l:RS ae* Ak ekk e sa^12F:Fp: p>JTRANSFOR3A~&k ~0~: RGauDauNDYXk0F_" pbo@E NAME";a l`.ELP, PG1k-O_HE CURSOR UpKEY_ GD/a6,_?PORT 2.a)PACE EY &UTTON WILLSELECTAREA BENEATHpjaH_KPEFERENCE-QVUIT[DEL]_ [INST]`LL (s[HOME.aUGPX_0PLRETURN]aIOPY!_ORK a+P=EXT;aPREVIOV" LaLV `]a[+arPbP150o 22,"0:"o)",P,W" 02 IVAVA64:2,	I));: 2:28: GETLFS mRA1_DV_e65466's a8*go 4a812)a>3)aC4)PL9PL>aIHC R_F!LHVj_P:\a +4k -5"1.6k .72.8k a/BPACKGROUNDP@u/      a a a   a8  `$ TaUa-F``k "	[ 
,"$	2".	: K"8	B90"B	k?W"L	W"V	k9W450 "`	AW#j	k,#t	&P6 /#~aB512 <#	T R#&X#o#u#	BLASH WORKINGB#	B(_ g #	_%:_~#	,Ba`#a`#	fDJUST _IabEED #	JDa__H#5151 $ 
SL10SLo$

    ORA #$58    ; COLOR OFFSET           STA $FC           LDA COLR'SAVE           STA ($FB),Y ; SET COLOR           LDA POS'SAVE           STA $FC           TXA           INY           CPY #$08           BNE -           INC $FD     ; NEXT BYTST ROW           STA $9000,X           INY           INX           CPX #3           BNE -           JSR COPY'RESULT           RTSVSHIFT'SPRITE2 =*      ; SHIFT VERT           LDY #0           LDX #60         - LDA ($FB),Y ; COPY FIRST ROW             CLC           LDA $FB     ; MV TO NEXT ROW           ADC #16           STA $FB           BCC +       ; NOT PG BNDRY           INC $FC         + DEC ROW'NUM ; END OF SPRITE?           BNE READ'ROW2           RTSBYTE'NUM  .BYTE 0     ;  BNE -           RTSFLIP'SPRITE =*          ; FLIP           LDA #$3C     ; TARGET           STA COPY'LOC           LDY #0         - LDX #0         - LDA ($FB),Y           STA $903C,X  COPY'LOC =*-2           INY           INX           CPX  A ($FB),Y ; LOAD COL1           ROL           STA ($FD),Y           INY           INY           INY           CPY #63           BNE -           JSR COPY'RESULT           RTSCOPY'RESULT =*           LDA #00     ; COPY RESULT           STA $FD LDA #00           STA $FD           LDA #$90           STA $FE           LDY #0         - LDA ($FB),Y           EOR #$FF           STA ($FD),Y           INY           CPY #$40           BNE -           JSR COPY'RESULT           RTSMIRR'SPROPY'RESULT           RTSHSHIFT'SPRITE =*       ; SHIFT HORIZ           LDA #00           STA $FD           LDA #$90           STA $FE           LDY #0         - INY           INY           LDA ($FB),Y ; GET LO BIT           ROR           DEY         DEC MIRR'LOC           JSR REV'BYTE           INY           LDA ($FB),Y    ; COL3           DEC MIRR'LOC           JSR REV'BYTE           INY           INC MIRR'LOC           INC MIRR'LOC           INC MIRR'LOC           CPY #63     ; TA ($FD),Y           INY           CPY #63           BNE -           JSR COPY'RESULT           RTSHSHIFT'SPRITE2 =*       ; SHIFT HORIZ           LDA #00           STA $FD           LDA #$90           STA $FE           LDY #0         - LDA (LDA #03           STA $FD           LDA #$90           STA $FE           LDY #0         - LDA ($FB),Y ; COPY FIRST 20           STA ($FD),Y ; ROWS           INY           CPY #60           BNE -           LDX #0         - LDA ($FB),Y ; COPY LAE           BNE +           INC $FE         + CLC           LDA $FB     ; MV TO NEXT BYTE           ADC #8            STA $FB           BCC +       ; NOT PG BNDRY           INC $FC         + DEC BYTE'NUM; END OF ROW?           BNE READ'BYTE2 ; SPRITE TRANSFORMATION CODE; (C) 2018 JESSICA PETERSEN;; PTR TO SPRITE IN $FB AND $FC; WORKING AREA AT $9000FIL'SPRITE =*           LDY #$0     ; FILL         - STA ($FB),Y ; SPRITE           INY         ; FROM ACC           CPY #63           WHICH BYTE ROW'NUM   .BYTE 0     ; WHICH ROWTHE'TOTAL .BYTE 0     ; VARIABLEPOS'SAVE  .BYTE 0     ; SAVE PTRCOLR'SAVE .BYTE 0     ; COLOR TO DRAWNULL      .BYTE 0; WORK AREA           LDA #$80           STA $FC    ; WORK AREA           LDA #21#3        ; 3 COLS           BNE -           DEC COPY'LOC           DEC COPY'LOC           DEC COPY'LOC           CPY #63       ; 63 BYTES           BNE --           JSR COPY'RESULT           RTS       INV'SPRITE =*          ; INVERT                  STA $9000,X           INY           INX           CPX #63           BNE -           LDX #0         - LDA ($FB),Y ; COPY LAST 20           STA $9000,X ; ROWS           INY           INX           CPY #63           BNE -           JSR CITE =*         ; MIRROR           LDA #0           STA MIRR'LOC           LDY #0  MIRR'LOOP =*           LDA ($FB),Y    ; COL1           INC MIRR'LOC           INC MIRR'LOC           JSR REV'BYTE           INY           LDA ($FB),Y    ; COL2             DEY           LDA ($FB),Y ; LOAD COL1           ROR           STA ($FD),Y           INY           LDA ($FB),Y ; LOAD COL2           ROR           STA ($FD),Y           INY           LDA ($FB),Y ; LOAD COL3           ROR           S	63 BYTES           BNE MIRR'LOOP           JSR COPY'RESULT           RTSREV'BYTE =*           LDX #8         - ROL           ROR $9000  MIRR'LOC =*-2           DEX           BNE -           RTSVSHIFT'SPRITE =*       ; SHIFT VERT           $FB),Y ; GET HI BIT           ROL           INY           INY           LDA ($FB),Y ; LOAD COL3           ROL           STA ($FD),Y           DEY           LDA ($FB),Y ; LOAD COL2           ROL           STA ($FD),Y           DEY           LD            LDA #$90           STA $FE           LDY #$00         - LDA ($FD),Y           STA ($FB),Y           INY           CPY #$40           BNE -           RTSST'RESULT .BYTE 0NULL      .BYTE 0       INY           CPY #$08           B L3LLLJLi L2LLLZLALLLL	L[L\y QLJ 8jLJ ii`y *
LQ	Xi 	X   * ```````Q` Q`` i(m` ` ` `y   	     AVE PRITE         OAD LL PRITES         AVE LL PRITES$         ISK IRECTORYHIT ANY KEYPRITE ELP, PG2-----------------N         EW EVICE UMBER@         NTER OMMANDZ/       HIFT ERTICALLYX/       HIFT ORIZONT r            8     `$         ```J*Jg-{JnW{M7su*J*JUu>Jo^5v]7Uu_))u\=]m*J*Juw5)z^-|UW[iJ*J+u]w]sJs5)JKKi`       ?`<(  <(((? 4`  I@ 4`     ? 4`*n ` <   4` < ?  ? 4`  jjj	 : 4 )`	 4   `PRITE ELP, PG1-----------------OVE THE CURSOR USING THE CURSORKEYS AND/OR OYSTICK IN PORT 2.HE PACE EY OR OYSTICK UTTON WILLSELECT THE AREA BENEATH THE CURSOR.EYBOARDALLYF         LIP ERTICALLY         LIP ORIZONTALLYI         NVERT PRITEA         NIMATE PRITE,         LOWER OYSTICK PEED.         ASTER OYSTICK PEEDM         OGGLE ULTICOLOR ODE1        OGGLE  EXPANSION2        OGGLE  ENE -           INC $FD     ; NEXT BYTE           BNE +           INC $FE         + CLC           LDA $FB     ; MV TO NEXT BYTE           ADC #8            STA $FB           BCC +       ; NOT PG BNDRY           INC $FC         + DEC BYTE'NUM; EK           RTSBYTE'NUM  .BYTE 0     ; WHICH BYTE ROW'NUM   .BYTE 0     ; WHICH ROWTHE'TOTAL .BYTE 0     ; VARIABLEPOS'SAVE  .BYTE 0     ; SAVE PTRCOLR'SAVE .BYTE 0     ; COLOR TO DRAWNULL      .BYTE 0j? 4`  ****? 4`  @`  x{X  `xX ` )  l8) L &L) 4L B< PL` )J J &J 4J BJ P` ` EFERENCE------------------Q         UIT[DEL]     LEAR PRITE[INST]    LEAR LL PRITES[HOME]    ILL PRITEG         ENERATE PRITE[RETURN]  OPY PRITE TO ORK REA+         EXT PRITE-         REVIOUS PRITEL         OAD PRITES    XPANSION3        PRITE OLOR +4        PRITE OLOR -5        ULTICOLOR 1 +6        ULTICOLOR 1 -7        ULTICOLOR 2 +8        ULTICOLOR 2 -B         ACKGROUND OLOR +         ACKGROUND OLOR -HIT ANY KEY1    KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK